const details = [
  {
    engagement: {
      flow: {
        data: [
          [0.1, 1],
          [0.2, 1],
          [0.3, 1],
          [0.4, 1],
          [0.5, 1],
          [0.6, 1],
          [0.7, 1],
          [0.8, 1],
          [1, 1],
          [1.1, 1],
          [1.2, 1],
          [1.3, 1],
          [1.4, 1],
          [1.5, 1],
          [1.6, 1],
          [1.7, 1],
          [1.8, 1],
          [1.9, 1],
          [2, 1],
          [2.1, 1],
          [2.2, 1],
          [2.3, 1],
          [2.4, 1],
          [2.6, 1],
          [2.7, 1],
          [2.8, 1],
          [2.9, 1],
          [3, 1],
          [3.1, 1],
          [3.2, 1],
          [3.3, 1],
          [3.4, 1],
          [3.5, 1],
          [3.6, 1],
          [3.7, 1],
          [3.8, 1],
          [3.9, 1],
          [4, 1],
          [4.1, 1],
          [4.3, 1],
          [4.4, 1],
          [4.5, 0],
          [4.6, 0],
          [4.7, 0],
          [4.8, 1],
          [4.9, 1],
          [5, 1],
          [5.1, 1],
          [5.2, 1],
          [5.3, 1],
          [5.4, 1],
          [5.5, 1],
          [5.6, 1],
          [5.7, 1],
          [5.9, 1],
          [6, 1],
          [6.1, 1],
          [6.2, 1],
          [6.3, 0],
          [6.4, 0],
          [6.5, 0],
          [6.6, 0],
          [6.7, 0],
          [6.8, 0],
          [6.9, 0],
          [7, 0],
          [7.1, 0],
          [7.2, 0],
          [7.3, 0],
          [7.5, 0],
          [7.6, 0],
          [7.7, 0],
          [7.8, 1],
          [7.9, 1],
          [8, 1],
          [8.1, 1],
          [8.2, 1],
          [8.3, 1],
          [8.4, 1],
          [8.5, 1],
          [8.6, 1],
          [8.7, 1],
          [8.8, 1],
          [8.9, 1],
          [9.1, 1],
          [9.2, 1],
          [9.3, 1],
          [9.4, 1],
          [9.5, 0],
          [9.6, 0],
          [9.7, 0],
          [9.8, 0],
          [9.9, 0],
          [10, 0],
          [10.1, 0],
          [10.2, 0],
          [10.3, 0],
          [10.4, 0],
          [10.5, 0],
          [10.7, 0],
          [10.8, 0],
          [10.9, 1],
          [11, 1],
          [11.1, 1],
          [11.2, 1],
          [11.3, 1],
          [11.4, 1],
          [11.5, 1],
          [11.6, 1],
          [11.7, 1],
          [11.8, 1],
          [11.9, 1],
          [12, 1],
          [12.1, 1],
          [12.2, 1],
          [12.4, 1],
          [12.5, 1],
          [12.6, 1],
          [12.7, 1],
          [12.8, 1],
          [12.9, 1],
          [13, 1],
          [13.1, 1],
          [13.2, 1],
          [13.3, 1],
          [13.4, 1],
          [13.5, 1],
          [13.6, 1],
          [13.7, 1],
          [13.8, 1],
          [14, 1],
          [14.1, 1],
          [14.2, 1],
          [14.3, 1],
          [14.4, 1],
          [14.5, 1],
          [14.6, 0],
          [14.7, 0],
          [14.8, 0],
          [14.9, 0],
          [15, 0],
          [15.1, 0],
          [15.2, 0],
          [15.3, 0],
          [15.4, 0],
          [15.6, 0],
          [15.7, 0],
          [15.8, 1],
          [15.9, 1],
          [16, 1],
          [16.1, 1],
          [16.2, 1],
        ],
        rating: "Good",
        feedback:
          "Try to avoid long pauses (if any), and align your strategic pauses to your content, make sure you pause to draw attention. Try to get rid of long sentences and/or use small pauses to break long sentences â€” you want your delivery to be as digestible as possible for your audience.",
        final_score: 53.48148148148148,
      },
      eyecontact: {
        data: 0.717948717948718,
        rating: "Great",
        feedback:
          "Good job! Let's make sure that you're not looking at your visuals and notes excessively.",
        final_score: 84.46455505279035,
      },
      articulation: {
        data: [
          [0.1, 100],
          [0.4, 85.00138375572531],
          [0.8, 76.41392312551613],
          [1.1, 72.7913954557697],
          [1.4, 72.68757809288321],
          [1.8, 74.65624838325417],
          [2.1, 73.96708730568571],
          [2.4, 73.75888017187307],
          [2.7, 74.64747699303955],
          [3.1, 77.24872778040834],
          [3.4, 78.0734913549775],
          [3.7, 68.9150259553384],
          [4.1, 55.80665244956343],
          [4.4, 46.54405734382607],
          [4.7, 41.99521648975039],
          [5.1, 37.42447531511456],
          [5.4, 37.570842297144296],
          [5.7, 36.22191958785939],
          [6.1, 37.31939913098122],
          [6.4, 41.36874196388327],
          [6.7, 48.875409123939015],
          [7, 47.481902621602345],
          [7.4, 41.36855526964697],
          [7.7, 44.40264454549629],
          [8, 39.08430650786701],
          [8.4, 36.055738465924556],
          [8.7, 35.601269676342284],
          [9, 32.28284586410724],
          [9.4, 31.529153198724167],
          [9.7, 31.79107074569992],
          [10, 33.13179598100782],
          [10.3, 39.26178276878548],
          [10.7, 42.0383906311219],
          [11, 42.54473017002119],
          [11.3, 31.19433964626991],
          [11.7, 22.464977876956713],
          [12, 8.76133412557761],
          [12.3, 1.3563486677563024],
          [12.7, 0],
          [13, 4.233845317023152],
          [13.3, 13.910942895462256],
          [13.7, 28.78429064991292],
          [14, 38.41537316359511],
          [14.3, 46.599341709676125],
          [14.6, 50.891595328030775],
          [15, 54.32446739021269],
          [15.3, 57.672337768046255],
          [15.6, 61.70958633335632],
          [16, 67.2105929579679],
        ],
        rating: "Great",
        feedback: "Your overall articulation is great. Keep up the good work!",
        final_score: 99.2103752243249,
      },
      pace: {
        feedback:
          "You speak a bit too slow. Did you have trouble memorizing what you were supposed to say? Did you use too many pauses? ",
        data: [
          [0.1, 45.00000000000001],
          [0.4, 45.00000000000001],
          [0.8, 45.00000000000001],
          [1.1, 45.00000000000001],
          [1.4, 45.00000000000001],
          [1.8, 45.00000000000001],
          [2.1, 30.000000000000004],
          [2.4, 30.000000000000004],
          [2.7, 30.000000000000004],
          [3.1, 30.000000000000004],
          [3.4, 30.000000000000004],
          [3.7, 30.000000000000004],
          [4.1, 30.000000000000004],
          [4.4, 15.000000000000002],
          [4.7, 15.000000000000002],
          [5.1, 0],
          [5.4, 0],
          [5.7, 15],
          [6.1, 45],
          [6.4, 45],
          [6.7, 45],
          [7, 45],
          [7.4, 45],
          [7.7, 45],
          [8, 45],
          [8.4, 45],
          [8.7, 45],
          [9, 45],
          [9.4, 45],
          [9.7, 45],
          [10, 45],
          [10.3, 60],
          [10.7, 60],
          [11, 45],
          [11.3, 30],
          [11.7, 15],
          [12, 30],
          [12.3, 30],
          [12.7, 45],
          [13, 45],
          [13.3, 45],
          [13.7, 45],
          [14, 45],
          [14.3, 45],
          [14.6, 45],
          [15, 45],
          [15.3, 45],
          [15.6, 45],
          [16, 59.99999999999997],
        ],
        rating: "Slow",
        average_pace: 38.57142857142857,
        final_score: 0,
      },
      fillerwords: {
        data: ["Um", "Um", "Um", "Um"],
        rating: "Poor",
        feedback:
          "You used too many filler words in your speech. Try to aviod such filler words especially in formal environments",
        total_count: 4,
        final_score: 0,
      },
    },
    url_record_landmark:
      "https://talkmeup-customized-video-recorder.s3.amazonaws.com/varapp9c6d474a-0def-45a0-821c-d9dbbfce9f8b_cv_results_landmark.mp4",
    final_score: 36.53364991571176,
    audio_length: 19.648004535147393,
    passion: {
      enthusiasm: {
        data: [
          [0.1, 64.23348011743568],
          [0.4, 64.66549700305052],
          [0.8, 65.71607031434853],
          [1.1, 67.21389066960728],
          [1.4, 68.98764868710388],
          [1.8, 70.86603498511865],
          [2.1, 72.67315697948408],
          [2.4, 74.24435177200338],
          [2.7, 75.38964500214355],
          [3.1, 75.92411893803178],
          [3.4, 75.68279841793807],
          [3.7, 74.53913643675943],
          [4.1, 72.39909898637795],
          [4.4, 69.21986120873393],
          [4.7, 65.00763138031414],
          [5.1, 59.830682897418626],
          [5.4, 53.81459758994215],
          [5.7, 47.13876170813404],
          [6.1, 40.02903718749748],
          [6.4, 32.7467690410373],
          [6.7, 25.576383564961997],
          [7, 18.809508245970534],
          [7.4, 12.73132771251739],
          [7.7, 7.6054321588748826],
          [8, 3.6628239603364863],
          [8.4, 1.0860682693287707],
          [8.7, 0],
          [9, 0.46410218918777024],
          [9.4, 2.465633847744603],
          [9.7, 5.929924356378176],
          [10, 10.716360247382582],
          [10.3, 16.636189852304703],
          [10.7, 23.460937202983736],
          [11, 30.937788250157748],
          [11.3, 38.80052624396617],
          [11.7, 46.78357197270293],
          [12, 54.63734477514405],
          [12.3, 62.14075864399295],
          [12.7, 69.11618126812053],
          [13, 75.43095903388792],
          [13.3, 80.99774139262874],
          [13.7, 85.77746888367622],
          [14, 89.77174337476093],
          [14.3, 93.01210809911957],
          [14.6, 95.55225314883936],
          [15, 97.47038881444797],
          [15.3, 98.8172411452836],
          [15.6, 99.6435361906873],
          [16, 100],
        ],
        rating: "Too_much",
        feedback:
          "Your overall energy level is very high! -- that's a good start! Here's how we can work on making it better. Learn what your audience want regarding the level of enthusiasm, make sure they're comfortable with how much passion and enthusiasm you're bringing.",
        final_score: 100,
      },
      facial: {
        negative_emotions: ["Fear"],
        rating: "OK",
        average_score: -0.3507408460733505,
        final_score: 21.010209489628085,
        feedback:
          "Your overall facial expression is OK. Let's imagine your audience can only read your facial expressions to understand your presentation. Smile bigger! ",
        data: [
          [0, -0.5386778227984905],
          [1, -0.6029950603842735],
          [2, -0.8098472505807877],
          [3, -0.7722060531377792],
          [4, -0.8917954927310348],
          [5, -0.8669162699952722],
          [6, -0.6296134814620018],
          [7, 0],
          [8, -0.7493636347353458],
          [9, 0],
          [10, 0],
          [11, -0.9315489158034325],
          [12, 0],
          [13, -0.831302136182785],
          [14, 0],
          [15, 0],
          [16, 0],
          [17, 0],
          [18, 0],
          [19, -0.5305814743041992],
          [20, 0],
          [21, 0],
          [22, 0],
          [23, -0.7115526339039207],
          [24, -0.6774187665432692],
          [25, 0],
          [26, 0],
          [27, 0],
          [28, 0],
          [29, 0],
          [30, 0],
          [31, 0],
          [32, -0.6495614275336266],
          [33, -0.661788173019886],
          [34, -0.7913060900755227],
          [35, -0.5948464728426188],
          [36, -0.8199916486628354],
          [37, -0.6175801921635866],
          [38, 0],
        ],
      },
      confidence: {
        final_score: 44.770827656028096,
        rating: "Ok",
        feedback:
          "Your overall confidence level is moderate -- that's a good start. Make sure your tone is easy and conversational, and envision that your audience is rooting for your to succeed! ",
        data: [
          21.010209489628085, 0, 0, 100, 0, 53.48148148148148, 99.2103752243249,
          84.46455505279035,
        ],
      },
    },
    persuasion: {
      tone: {
        data: [0, 0, 0, 0],
        rating: "Positive",
        feedback:
          "Your overall tone is positive! Let's carry the positive vibe to future presentation! ",
        total_count: 100,
        final_score: 70,
      },
      logic: {
        data: ["and"],
        rating: "Not_enough",
        feedback:
          "Try adding summaries (initial, internal, final) throughout the presentation.",
        total_count: 1,
        final_score: 1,
      },
      keyword: {
        total_count: 18,
        rating: "Poor",
        final_score: 0,
        feedback:
          "You got a few moments of truth, you should try again and focus.",
        data: [
          "Hello",
          "Introduce",
          "Executive",
          "Business",
          "Review",
          "Agenda",
        ],
      },
      storytelling: {
        data: [],
        rating: "Not_enough",
        feedback:
          "Let's try thinking of stories the audience can relate to that tie into your presentation.",
        total_count: 0,
        final_score: 0,
      },
      quants: {
        data: [],
        rating: "Low",
        feedback:
          "You used too little quantitative support in your presentation. Let's take a step back and think of evidence you can use in your answer.",
        total_count: 0,
        final_score: 0,
      },
    },
    video_url:
      "https://talkmeup-customized-video-recorder.s3.amazonaws.com/varapp9c6d474a-0def-45a0-821c-d9dbbfce9f8b-2021-11-18-22-45-10-334498-05-00.mp4",
  },
];

//3)
// const average = () => {
//   for (let i of details.engagement.flow.data) {
//     const sum = i.reduce((x, y) => x + y);
//     const avg = sum / i.length;
//     console.log(avg);
//   }
// };
// average();

const average = (val1, obj) => {
  let cc = Object.keys(obj).find((x) => x == val1);
  if (cc) {
    let ccc = obj[val1];
    let sumOfX = 0;
    let sumOfY = 0;
    for (let j of ccc.data) {
      sumOfX += j[0];
      sumOfY += j[1];
    }
    return {
      x: sumOfX / ccc.data.length,
      y: sumOfY / ccc.data.length,
    };
  }
  return null;
};
for (let i of details) {
  console.log(average("flow", i.engagement));
}

console.log("***********************************************");

function totalSum(array, engagement) {
  let total = 0;
  for (let val of array) {
    if (val == "flow") {
      total += engagement.flow.final_score;
    } else if (val == "eyecontact") {
      total += engagement.eyecontact.final_score;
    }
  }
  return total;
}
for (let i of details) {
  let sum = totalSum(["flow", "eyecontact"], i.engagement);
  console.log("total_final_score= ", sum);
}

/////////////////////////////////////////////////////////////////////////////

// for (let i of details) {
//   const ab = totalSum(
//     i.engagement.flow.final_score,
//     i.engagement.eyecontact.final_score
//   );

//   console.log(ab);
// }

// const getObj = (input) => {
//   const obj = [];
//   const ab = details.engagement.flow.map((x) => {
//     for (let i of x.data) {
//       if (i == input) {
//         obj.push(x.data);
//       }
//     }
//   });
//   return obj;
// };
// console.log(getObj("flow"));

// const b = details.map((ele) => ele.engagement.flow);
// console.log(...b);

// const getObj = () => {
//   for (let x of details) {
//     if (x.persuasion.logic.rating == "Not_enough") {
//       return x.persuasion.logic;
//     }
//   }
// };
// console.log(getObj());

function arr(value) {
  for (let k = 0; k < details.length; k++) {
    let a = Object.keys(details[k]);

    let result = [];

    for (let i = 0; i < a.length; i++) {
      let b = Object.keys(details[k][a[i]]);

      for (let j = 0; j < b.length; j++) {
        let c = Object.keys(details[k][a[i]][b[j]]);
        c.map((ele) => {
          if (ele == "rating" && details[k][a[i]][b[j]][ele]) {
            if (details[k][a[i]][b[j]][ele] == value) {
              result.push(details[k][a[i]][b[j]]);
            }
          }
        });
      }
    }
    return result;
  }
}
console.log(arr("Positive"));
